<?xml version="1.0" encoding="UTF-8"?>

<!--********************************************************************
Copyright 2020 Rob Beezer

This file is part of PreTeXt.

PreTeXt is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 2 or version 3 of the
License (at your option).

PreTeXt is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with PreTeXt.  If not, see <http://www.gnu.org/licenses/>.
*********************************************************************-->

<!-- This file is a sample workbook with worksheet content. -->

<pretext xmlns:xi="http://www.w3.org/2001/XInclude" xml:lang="en-US">
    <docinfo>
        <latex-image-preamble>
            \usepackage{pgfplots}
        </latex-image-preamble>
    </docinfo>
    
    <book xml:id="workbook">
        <title>Sample Workbook</title>

        <frontmatter xml:id="frontmatter" xmlns:xi="http://www.w3.org/2001/XInclude">
            <titlepage>
                <author>
                    <personname>Alex Jordan</personname>
                    <department>Department of Mathematics</department>
                    <institution>Portland Community College</institution>
                    <email>alex.jordan@pcc.edu</email>
                </author>
                <date><today /></date>
            </titlepage>

            <!-- <colophon /> goes here -->

            <!-- <preface /> goes here -->

        </frontmatter>

        <chapter>
            <title>Workbook Example</title>
            <section xml:id="section">
                <title>Introduction</title>
                <p>
                    This section gives the chapter enough structure so that we may give the chapter multiple worksheets.
                    <fn>The first footnote of the book is not in a worksheet.</fn>
                </p>
            </section>
            <worksheet>
                <title>A Simple Worksheet</title>
                <introduction>
                    <title>Introduction</title>
                    <p>
                        This is an introduction paragraph before the exercises start.
                        It is long enough to wrap to a second line so we can see any indentation.
                        You may need to use:
                        <me>
                            x=\frac{-b\pm\sqrt{b^2-4ac}}{2a}
                        </me>
                        This worksheet follows <xref ref="section"/>,
                        so that was a cross-reference to outside this worksheet.<fn>The second footnote of the book is in the first worksheet.</fn>
                    </p>
                    <p>
                        And a second paragraph.
                        <ol>
                            <li>
                                <p>
                                    Here is a <tag>p</tag> inside a list item.
                                </p>
                            </li>
                            <li>
                                <p>
                                    This list is in the introduction.
                                    <ol>
                                        <li>
                                            <title>With Title</title>
                                            <p>
                                                And here is some nesting. And this nested item has a sentence that is very long; so long that it goes onto a second line so we can see indentation.
                                                <ol>
                                                    <li>
                                                        <p>
                                                            More nesting.
                                                        </p>
                                                    </li>
                                                </ol>
                                            </p>
                                        </li>
                                    </ol>
                                </p>
                            </li>
                            <li>
                                This is an item <em>not</em> in a <tag>p</tag>.
                            </li>
                        </ol>
                        It is also has a lot of extra words in it so that it will be long enough to wrap to a second line so we can see any indentation.
                        <ol>
                            <li>
                                <p>
                                    It also has a second list.
                                </p>
                            </li>
                        </ol>
                    </p>
                    <p>
                        And a third paragraph.
                        It is also has a lot of extra words in it so that it will be long enough to wrap to a second line so we can see any indentation.
                        And now it has an unordered list.
                        <ul>
                            <li>
                                <p>
                                    An item.
                                    <ul>
                                        <li>
                                            <p>
                                                Another item.
                                                <ul>
                                                    <li>
                                                        <p>
                                                            Three deep.
                                                            <ul>
                                                                <li>
                                                                    Four deep. Also not in a <tag>p</tag>.
                                                                </li>
                                                            </ul>
                                                        </p>
                                                    </li>
                                                </ul>
                                            </p>
                                        </li>
                                    </ul>
                                </p>
                            </li>
                            <li>
                                <p>
                                    An item. Next list changes label from default to square.
                                    <ul label="square">
                                        <li>
                                            <p>
                                                Another item. Next list changes label from default to empty.
                                                <ul label="">
                                                    <li>
                                                        <p>
                                                            Three deep.
                                                        </p>
                                                    </li>
                                                </ul>
                                            </p>
                                        </li>
                                    </ul>
                                </p>
                            </li>
                        </ul>
                        Now a description list:
                        <dl>
                            <li>
                                <title>Tacos</title>
                                <p>
                                    Can be soft or crunchy.  We need this sentence to be very long so we can see what happens when the text wraps to the next line.
                                </p>
                            </li>
                            <li>
                                <title>Pizza</title>
                                <p>
                                    Can be round or square.
                                </p>
                            </li>
                        </dl>
                    </p>
                </introduction>
                <exercise xml:id="exercise">
                    <title>This Exercise has a Title</title>
                    <statement>
                        <p>
                            This is the first exercise. Its first paragraph is so long that the text will wrap to the second line
                            so that we can see any indentation.<fn>The third footnote of the book is also in the first worksheet.</fn>
                        </p>
                        <p>
                            There is a second paragraph to see any indentation and any skip.
                        </p>
                        <p>
                            Now solve the equation <m>x^2=x+1</m>.
                        </p>
                    </statement>
                </exercise>
                <exercise>
                    <statement>
                        <p>
                            This exercise has groupings markup: <q>q</q> <sq>sq</sq> <dblbrackets>dblbrackets</dblbrackets> <angles>angles</angles> <abbr>abbr</abbr> <acro>acro</acro> <init>init</init> <em>em</em> <term>term</term> <alert>alert</alert> <pubtitle>pubtitle</pubtitle> <articletitle>articletitle</articletitle> <foreign>foreign</foreign> <delete>delete</delete> <insert>insert</insert> <stale>stale</stale> <taxon>taxon</taxon> <taxon><genus>genus</genus><species>species</species></taxon> <email>email</email>
                        </p>
                    </statement>
                </exercise>
                <exercise>
                    <statement>
                        <p>
                            This exercise has single characters that are marked up: <lsq/> <rsq/> <lq/> <rq/> <ldblbracket/> <rdblbracket/> <langle/> <rangle/> <nbsp/> <ndash/> <mdash/> <ellipsis/> <midpoint/> <swungdash/> <permille/> <pilcrow/> <section-mark/> <minus/> <times/> <solidus/> <obelus/> <plusminus/> <copyright/> <registered/> <trademark/>
                        </p>
                        <p>
                            And we include some icons here as well: <icon name="gear"/> <icon name="wrench"/> <icon name="file-save"/>
                        </p>
                    </statement>
                </exercise>
                <exercise>
                    <statement>
                        <p>
                            Generators: <pretext/> <tex/> <latex/> <webwork/> <ad/> <am/> <bc/> <ca/> <eg/> <etal/> <etc/> <ie/> <nb/> <pm/> <ps/> <vs/> <viz/> <today/> <timeofday/>
                        </p>
                    </statement>
                </exercise>
                <exercise>
                    <statement>
                        <p>
                            Some quantities: <quantity><mag>9.8</mag><unit base="meter"/><per base="second" exp="2"/></quantity>,
                            <quantity><unit prefix="kilo" base="gram"/><unit base="meter"/><per base="second" exp="2"/></quantity>,
                            <quantity><unit base="newton"/></quantity>,
                            <quantity><mag>23</mag><unit prefix='micro' base='hectare' exp='23'/><per base='degreeCelsius'/><per base='second' exp='2'/></quantity>,
                            <quantity><unit base="hertz"/></quantity>,
                            <quantity><per base='second'/></quantity>,
                            <quantity><mag>42</mag></quantity>,
                            <quantity><unit base="degreeFahrenheit"/><unit base="foot"/><unit base="pound"/><per base="gallon"/></quantity>,
                            <quantity><mag>2\pi</mag><unit base="radian"/></quantity>
                        </p>
                    </statement>
                </exercise>
                <exercise>
                    <statement>
                        <p>
                            Miscellaneous: fillin <fillin characters="5"/>. Remember when we did <xref ref="exercise" text="type-local"/>? (A cross-reference to within this worksheet.)
                        </p>
                    </statement>
                </exercise>
                <exercise>
                    <statement>
                        <p>
                            Verbatim characters: <c>~`!@#$%^&amp;*()_-+=[]{}|\;:'",&lt;.>?/</c>. And with leading and trailing whitespace: <c>  Two before.   Three in between.   Four after.    </c>
                        </p>
                        <p>
                            Here in the middle of a <tag>p</tag> we have a <tag>cd</tag>:
                            <cd>zip -r -X</cd>
                            And then the <tag>p</tag> resumes.
                        </p>
                        <p>
                            <cd>This p opens with a cd</cd>
                            And then the <tag>p</tag> resumes.
                        </p>
                        <p>
                            In this <tag>p</tag>,
                            <cd>we end with a cd.</cd>
                        </p>
                        <p>
                            <cd>A lonely cd</cd>
                        </p>
                        <p>
                            <cd> There  are   progressively    more     spaces.      </cd>
                        </p>
                        <p>
                            This one has <tag>cline</tag>:
                            <cd>
                                <cline>One line  </cline>
                                <cline>   Two    line     </cline>
                            </cd>
                        </p>
                        <pre>
                            Here
                                is
                                    preformatted
                                        text
                        </pre>
                        <pre>
                            <cline>    and here</cline>
                            <cline>with cline</cline>
                        </pre>
                    </statement>
                </exercise>
                <exercise>
                    <statement>
                        <p>
                            Tags that use <tag>c</tag>: <tag>tag</tag> <tage>tage</tage> <attr>attr</attr> <url href="url.com"/>. (And a <url href="url.com">URL</url> without <tag>c</tag>.)
                        </p>
                    </statement>
                </exercise>
                <exercise>
                    <statement>
                        <p>
                            This line precedes the list.
                            <ol>
                                <li>
                                    <p>
                                        This exercise has an ordered list.
                                        <ol>
                                            <li>
                                                <p>
                                                    With some nesting.
                                                    <ol>
                                                        <li>
                                                            <p>
                                                                And more nesting.
                                                            </p>
                                                        </li>
                                                    </ol>
                                                </p>
                                            </li>
                                        </ol>
                                    </p>
                                </li>
                            </ol>
                        </p>
                        <p>
                            This line precedes another list where the default label style is overruled.
                            <ol label="A">
                                <li>
                                    <p>
                                        Again, the default label style is overruled in this next list.
                                        <ol label="I">
                                            <li>
                                                <title>A Title</title>
                                                <p>
                                                    With some nesting, and again the default label style is overruled.
                                                    <ol label="a">
                                                        <li>
                                                            <title>Another Title</title>
                                                            <p>
                                                                And more nesting.
                                                            </p>
                                                        </li>
                                                    </ol>
                                                </p>
                                            </li>
                                        </ol>
                                    </p>
                                </li>
                            </ol>
                        </p>
                    </statement>
                </exercise>
                <exercise>
                    <statement>
                        <p>
                            This time, the list is <q>unstructured</q>.
                            <ol>
                                <li>
                                    Here is an item.
                                </li>
                                <li>
                                    Here is another item.
                                </li>
                            </ol>
                        </p>
                    </statement>
                </exercise>
                <exercise>
                    <statement>
                        <p>
                            An exercise with unordered lists.
                            <ul>
                                <li>
                                    <p>
                                        An item.
                                        <ul>
                                            <li>
                                                <p>
                                                    Another item.
                                                    <ul>
                                                        <li>
                                                            <p>
                                                                Three deep.
                                                                <ul>
                                                                    <li>
                                                                        <p>
                                                                            Four deep.
                                                                        </p>
                                                                    </li>
                                                                </ul>
                                                            </p>
                                                        </li>
                                                    </ul>
                                                </p>
                                            </li>
                                        </ul>
                                    </p>
                                </li>
                                <li>
                                    <p>
                                        An item. Next list changes label from default to square.
                                        <ul label="square">
                                            <li>
                                                <p>
                                                    Another item. Next list changes label from default to empty.
                                                    <ul label="">
                                                        <li>
                                                            <p>
                                                                Three deep.
                                                            </p>
                                                        </li>
                                                    </ul>
                                                </p>
                                            </li>
                                        </ul>
                                    </p>
                                </li>
                            </ul>
                        </p>
                    </statement>
                </exercise>
                <exercise>
                    <statement>
                        <p>
                            An exercise with a description list:
                            <dl>
                                <li>
                                    <title>Tacos</title>
                                    <p>
                                        Can be soft or crunchy. We need this sentence to be very long so we can see what happens when the text wraps to the next line.
                                    </p>
                                </li>
                                <li>
                                    <title>Pizza</title>
                                    <p>
                                        Can be round or square.
                                        <dl>
                                            <li>
                                                <title>Round</title>
                                                <p>
                                                    Round ones are round.
                                                </p>
                                            </li>
                                            <li>
                                                <title>Square</title>
                                                <p>
                                                    Square ones are square.
                                                </p>
                                            </li>
                                        </dl>
                                    </p>
                                </li>
                            </dl>
                        </p>
                    </statement>
                </exercise>
                <exercise>
                    <p>
                        This exercise jumps straight in, bypassing a <tag>statement</tag> tag.
                    </p>
                    <p>
                        Here is a second paragraph just because.
                    </p>
                </exercise>
            </worksheet>

            <worksheet>
                <title>Another Simple Worksheet</title>
                <introduction>
                    <p>
                        This is an introduction paragraph before the exercises start.
                        It is long enough to wrap to a second line so we can see any indentation.
                    </p>
                    <p>
                        And a second paragraph.
                        It is also has a lot of extra words in it so that it will be long enough to wrap to a second line so we can see any indentation.
                    </p>
                    <p>
                        And a third paragraph.
                        It is also has a lot of extra words in it so that it will be long enough to wrap to a second line so we can see any indentation.
                    </p>
                </introduction>
                <exercise>
                    <statement>
                        <p>
                            This is the first exercise.
                            <fn>The fourth footnote of the book is in the second worksheet.</fn>
                        </p>
                    </statement>
                </exercise>
                <exercise>
                    <statement>
                        <p>
                            This exercise has source images in different formats and sizes.
                        </p>
                        <image source="trefoil.png" width="10%"/>
                        <image source="pre-roll-countdown-1.jpg" width="20%"/>
                        <image source="sageplot-polynomial-approximation.pdf" width="30%"/>
                        <image source="complete-graph.svg" width="40%"/>
                    </statement>
                </exercise>
                <exercise>
                    <statement>
                        <p>
                            This exercise has coded images.
                        </p>
                        <image xml:id="building" width="47%">
                            <latex-image>
                              \definecolor{ruby}{HTML}{9e0c0f}
                              \definecolor{turquoise}{HTML}{008099}
                              \begin{tikzpicture}
                                \begin{axis}[
                                  axis x line=none,
                                  axis y line=none,
                                  xmin=-3,xmax=6,
                                  ymin=-10,
                                  ymax=150,
                                  grid=none
                                ]
                                  \addplot[color=ruby, fill=ruby!30] coordinates{(-1.5,0)(-1.5,80)(0.5,80)(0.5,0)(-1.5,0)};
                                  \addplot[color=black,fill=white] coordinates{(0.2,8)(0,8)(0,3)(0.2,3)(0.2,8)(0,8)(0.1,8)(0.1,3)(0.1,5.5)(0,5.5)(0.2,5.5)};
                                  \addplot[color=black,fill=white] coordinates{(-1,8)(-1.2,8)(-1.2,3)(-1,3)(-1,8)(-1.2,8)(-1.1,8)(-1.1,3)(-1.1,5.5)(-1.2,5.5)(-1,5.5)};
                                  \addplot[color=black,fill=black!40] coordinates{(-0.3,9)(-0.3,0)(-0.7,0)(-0.7,9)(-0.3,9)};
                                  \addplot[color=black] coordinates{(-0.5,0)(-0.5,9)};
                                  \foreach \x in {0,...,2}
                                    \foreach \y in {0,...,5}
                                      {\addplot[color=black,fill=white] coordinates{(0.6*\x-1,18+10*\y)(0.6*\x-1.2,18+10*\y)(0.6*\x-1.2,13+10*\y)(0.6*\x-1,13+10*\y)(0.6*\x-1,18+10*\y)(0.6*\x-1.2,18+10*\y)(0.6*\x-1.1,18+10*\y)(0.6*\x-1.1,13+10*\y)(0.6*\x-1.1,15.5+10*\y)(0.6*\x-1.2,15.5+10*\y)(0.6*\x-1,15.5+10*\y)};}
                                  \addplot[color=black] coordinates{(-3,0)(6,0)};
                                  \addplot[mark=*, samples=15, variable=\t, domain=0:5, smooth, -, color=turquoise] ({t}, {-16*t^2+64*t+80});
                                \end{axis}
                              \end{tikzpicture}
                            </latex-image>
                        </image>
                    </statement>
                </exercise>
            </worksheet>

            <worksheet>
                <title>A Little Math</title>
                <exercise>
                    <statement>
                        <p>
                            Solve the equation <m>x^2=x+1</m>. Or <m>y^2=y+1</m>.
                            One solution is <m>\frac{1+\sqrt{5}}{2}</m>.
                            This equation gives eigenvalues for the matrix <m>\begin{bmatrix}1\amp1\\1\amp0\end{bmatrix}</m>,
                            and also for <m>\begin{bmatrix}1\amp1\amp0\amp0\\1\amp0\amp0\amp0\\0\amp0\amp1\amp1\\0\amp0\amp1\amp0\end{bmatrix}</m>.
                        </p>
                        <p>
                            A displayed equation:
                            <me>
                                1+1=2
                            </me>
                        </p>
                        <p>
                            A displayed equation:
                            <me>
                                \int_0^1 \frac{1}{x^x}\,dx=\sum_{n=1}^{\infty}\frac{1}{n^n}
                            </me>
                            with text that follows. The next one is the only thing in its <tag>p</tag>.
                        </p>
                        <p>
                            <me>
                                \begin{bmatrix}1\amp1\\1\amp0\end{bmatrix}=
                                \frac{1}{\sqrt{5}}\begin{bmatrix}\frac{1+\sqrt{5}}{2}\amp\frac{1-\sqrt{5}}{2}\\1\amp1\end{bmatrix}
                                \begin{bmatrix}\frac{1+\sqrt{5}}{2}\amp0\\0\amp\frac{1-\sqrt{5}}{2}\end{bmatrix}
                                \begin{bmatrix}1\amp-\frac{1-\sqrt{5}}{2}\\-1\amp\frac{1+\sqrt{5}}{2}\end{bmatrix}
                            </me>
                        </p>
                        <p>
                            A displayed equation with rows:
                            <md>
                                <mrow>1+1+1\amp=2+1</mrow>
                                <mrow>\amp=3</mrow>
                            </md>
                        </p>
                        <p>
                            A displayed equation with rows:
                            <md>
                                <mrow>\int_0^1 e^x\,dx\amp=\left.e^x\right]_0^1</mrow>
                                <mrow>\amp=e^1-e^0</mrow>
                            </md>
                            with text that follows. The next one is the only thing in its <tag>p</tag>.
                        </p>
                        <p>
                            <md>
                                <mrow>\begin{bmatrix}1\amp1\\1\amp0\end{bmatrix}^2\amp=\begin{bmatrix}1\amp1\\1\amp0\end{bmatrix}\begin{bmatrix}1\amp1\\1\amp0\end{bmatrix}</mrow>
                                <mrow>\amp=\begin{bmatrix}2\amp1\\1\amp0\end{bmatrix}</mrow>
                            </md>
                        </p>
                    </statement>
                </exercise>
            </worksheet>

        </chapter>
    </book>
</pretext>
